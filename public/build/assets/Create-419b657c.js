import{A as M,v as N,r as j,o,b as l,d as s,p as C,y as c,z as v,t as n,g as t,F as m,j as u,e as D,B as P}from"./app-742b1e5f.js";import{u as z}from"./roles-2cac5cec.js";import{u as A}from"./users-fe5cdfd4.js";import{d as x,u as T,a as _,r as G,m as H}from"./rules-e1952245.js";const I={class:"row justify-content-center my-5"},J={class:"col-md-10"},K={class:"card border-0 shadow-sm"},O={class:"card-body"},Q=["onSubmit"],W={class:"mb-3"},X=s("label",{for:"post-title",class:"form-label"},"Name",-1),Y={class:"text-danger mt-1"},Z={class:"text-danger mt-1"},$={class:"mb-3"},ss=s("label",{for:"email",class:"form-label"},"Email",-1),es={class:"text-danger mt-1"},ts={class:"text-danger mt-1"},os={class:"mb-3"},ls=s("label",{for:"password",class:"form-label"},"Password",-1),as={class:"text-danger mt-1"},is={class:"text-danger mt-1"},ns={class:"mb-3"},ds=s("label",{for:"post-category",class:"form-label"}," Role ",-1),rs={class:"text-danger mt-1"},cs={class:"text-danger mt-1"},ms={class:"mt-4"},us=["disabled"],_s={class:""},ps={key:0},vs={key:1},xs={__name:"Create",setup(hs){const{roleList:y,getRoleList:V}=z(),{storeUser:S,validationErrors:d,isLoading:p}=A();x("required",G),x("min",H);const U={name:"required",email:"required",password:"required|min:8"},{validate:q,errors:r}=T({validationSchema:U}),{value:F}=_("name",null,{initialValue:""}),{value:k}=_("email",null,{initialValue:""}),{value:B}=_("password",null,{initialValue:""}),{value:L}=_("role_id",null,{initialValue:"",label:"role"}),a=M({name:F,email:k,password:B,role_id:L});function R(){q().then(h=>{h.valid&&S(a)})}return N(()=>{V()}),(h,i)=>{var b,f,w,g;const E=j("v-select");return o(),l("div",I,[s("div",J,[s("div",K,[s("div",O,[s("form",{onSubmit:C(R,["prevent"])},[s("div",W,[X,c(s("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>a.name=e),id:"post-title",type:"text",class:"form-control"},null,512),[[v,a.name]]),s("div",Y,n(t(r).name),1),s("div",Z,[(o(!0),l(m,null,u((b=t(d))==null?void 0:b.name,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",$,[ss,c(s("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>a.email=e),id:"email",type:"email",class:"form-control"},null,512),[[v,a.email]]),s("div",es,n(t(r).email),1),s("div",ts,[(o(!0),l(m,null,u((f=t(d))==null?void 0:f.email,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",os,[ls,c(s("input",{"onUpdate:modelValue":i[2]||(i[2]=e=>a.password=e),id:"password",type:"password",class:"form-control"},null,512),[[v,a.password]]),s("div",as,n(t(r).password),1),s("div",is,[(o(!0),l(m,null,u((w=t(d))==null?void 0:w.password,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",ns,[ds,D(E,{multiple:"",modelValue:a.role_id,"onUpdate:modelValue":i[3]||(i[3]=e=>a.role_id=e),options:t(y),reduce:e=>e.id,label:"name",class:"form-control"},null,8,["modelValue","options","reduce"]),s("div",rs,n(t(r).role_id),1),s("div",cs,[(o(!0),l(m,null,u((g=t(d))==null?void 0:g.role_id,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",ms,[s("button",{disabled:t(p),class:"btn btn-primary"},[c(s("div",_s,null,512),[[P,t(p)]]),t(p)?(o(),l("span",ps,"Processing...")):(o(),l("span",vs,"Save"))],8,us)])],40,Q)])])])])}}};export{xs as default};
