import{s as x,A as P,v as T,r as U,o,b as a,d as t,y as _,z as N,t as n,g as s,F as c,j as u,e as h,B as y,p as A,f as p}from"./app-742b1e5f.js";import{_ as E,D as j}from"./DropZone-9ee21e4c.js";import{u as R}from"./categories-04b92c8a.js";import{u as Z}from"./posts-52e589c7.js";import{d as z,u as $,a as v,r as G,m as I}from"./rules-e1952245.js";const J=["onSubmit"],K={class:"row my-5"},O={class:"col-md-8"},Q={class:"card border-0 shadow-sm"},W={class:"card-body"},X={class:"mb-3"},Y=t("label",{for:"post-title",class:"form-label"}," Title ",-1),tt={class:"text-danger mt-1"},et={class:"text-danger mt-1"},st={class:"mb-3"},ot=t("label",{for:"post-content",class:"form-label"}," Content ",-1),at={class:"text-danger mt-1"},lt={class:"text-danger mt-1"},it={class:"col-md-4"},nt={class:"card border-0 shadow-sm"},dt={class:"card-body"},rt=t("h6",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Action ")],-1),ct={class:"mt-3 text-center"},ut=["disabled"],mt={class:""},_t={key:0},ht={key:1},vt=["disabled"],pt={class:""},bt={key:0},gt={key:1},wt=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Category ")],-1),ft={class:"mb-3"},Vt={class:"text-danger mt-1"},xt={class:"text-danger mt-1"},yt={class:"mb-3"},zt=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Thumbnail ")],-1),Lt={class:"text-danger mt-1"},Ht={__name:"Create",setup(Ct){z("required",G),z("min",I),x(!0);const L={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:C,errors:m}=$({validationSchema:L}),{value:M}=v("title",null,{initialValue:""}),{value:q}=v("content",null,{initialValue:""}),{value:B}=v("categories",null,{initialValue:"",label:"category"}),{categoryList:S,getCategoryList:k}=R(),{storePost:H,validationErrors:r,isLoading:d}=Z(),l=P({title:M,content:q,categories:B,thumbnail:""});x("");function D(){C().then(b=>{b.valid&&H(l)})}return T(()=>{k()}),(b,i)=>{var g,w,f,V;const F=U("v-select");return o(),a("form",{onSubmit:A(D,["prevent"])},[t("div",K,[t("div",O,[t("div",Q,[t("div",W,[t("div",X,[Y,_(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>l.title=e),id:"post-title",type:"text",class:"form-control"},null,512),[[N,l.title]]),t("div",tt,n(s(m).title),1),t("div",et,[(o(!0),a(c,null,u((g=s(r))==null?void 0:g.title,e=>(o(),a("div",null,n(e),1))),256))])]),t("div",st,[ot,h(E,{modelValue:l.content,"onUpdate:modelValue":i[1]||(i[1]=e=>l.content=e)},null,8,["modelValue"]),t("div",at,n(s(m).content),1),t("div",lt,[(o(!0),a(c,null,u((w=s(r))==null?void 0:w.content,e=>(o(),a("div",null,n(e),1))),256))])])])])]),t("div",it,[t("div",nt,[t("div",dt,[rt,t("div",ct,[t("button",{disabled:s(d),class:"btn btn btn-outline-primary me-2"},[_(t("div",mt,null,512),[[y,s(d)]]),s(d)?(o(),a("span",_t,"Processing...")):(o(),a("span",ht,"Save Draft"))],8,ut),t("button",{disabled:s(d),class:"btn btn-primary"},[_(t("div",pt,null,512),[[y,s(d)]]),s(d)?(o(),a("span",bt,"Processing...")):(o(),a("span",gt,"Publish"))],8,vt)]),wt,t("div",ft,[h(F,{multiple:"",modelValue:l.categories,"onUpdate:modelValue":i[2]||(i[2]=e=>l.categories=e),options:s(S),reduce:e=>e.id,label:"name",class:"form-control",placeholder:"Select category"},null,8,["modelValue","options","reduce"]),t("div",Vt,n(s(m).categories),1),t("div",xt,[(o(!0),a(c,null,u((f=s(r))==null?void 0:f.categories,e=>(o(),a("div",null,n(e),1))),256))])]),t("div",yt,[zt,h(j,{modelValue:l.thumbnail,"onUpdate:modelValue":i[3]||(i[3]=e=>l.thumbnail=e)},null,8,["modelValue"]),t("div",Lt,[(o(!0),a(c,null,u((V=s(r))==null?void 0:V.thumbnail,e=>(o(),a("div",null,n(e),1))),256))])])])])])])],40,J)}}};export{Ht as default};
