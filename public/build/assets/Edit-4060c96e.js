import{A as j,k as C,v as P,C as z,r as A,o as a,b as l,d as e,p as T,y as u,z as f,t as n,g as o,F as c,j as _,e as G,B as H}from"./app-742b1e5f.js";import{u as I}from"./roles-2cac5cec.js";import{u as J}from"./users-fe5cdfd4.js";import{d as y,u as K,a as v,r as O,m as Q}from"./rules-e1952245.js";const W={class:"row justify-content-center my-5"},X={class:"col-md-10"},Y={class:"card border-0 shadow-sm"},Z={class:"card-body"},$=["onSubmit"],ee={class:"mb-3"},se=e("label",{for:"user-title",class:"form-label"},"Name",-1),te={class:"text-danger mt-1"},oe={class:"text-danger mt-1"},ae={class:"mb-3"},le=e("label",{for:"email",class:"form-label"},"Email",-1),ie={class:"text-danger mt-1"},ne={class:"text-danger mt-1"},re={class:"mb-3"},de=e("label",{for:"password",class:"form-label"},"Password",-1),me={class:"text-danger mt-1"},ue={class:"text-danger mt-1"},ce={class:"mb-3"},_e=e("label",{for:"user-category",class:"form-label"}," Role ",-1),ve={class:"text-danger mt-1"},pe={class:"text-danger mt-1"},fe={class:"mt-4"},he=["disabled"],be={class:""},we={key:0},ge={key:1},ke={__name:"Edit",setup(xe){const{roleList:V,getRoleList:U}=I(),{updateUser:F,getUser:S,user:r,validationErrors:d,isLoading:p}=J();y("required",O),y("min",Q);const k={name:"required",email:"required",password:"min:8"},{validate:E,errors:m,resetForm:ye}=K({validationSchema:k}),{value:R}=v("name",null,{initialValue:""}),{value:q}=v("email",null,{initialValue:""}),{value:B}=v("password",null,{initialValue:""}),{value:L}=v("role_id",null,{initialValue:"",label:"role"}),t=j({name:R,email:q,password:B,role_id:L}),D=C();function M(){E().then(h=>{h.valid&&F(t)})}return P(()=>{S(D.params.id),U()}),z(()=>{t.id=r.value.id,t.name=r.value.name,t.email=r.value.email,t.role_id=r.value.role_id}),(h,i)=>{var b,w,g,x;const N=A("v-select");return a(),l("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("form",{onSubmit:T(M,["prevent"])},[e("div",ee,[se,u(e("input",{"onUpdate:modelValue":i[0]||(i[0]=s=>t.name=s),id:"user-title",type:"text",class:"form-control"},null,512),[[f,t.name]]),e("div",te,n(o(m).name),1),e("div",oe,[(a(!0),l(c,null,_((b=o(d))==null?void 0:b.name,s=>(a(),l("div",null,n(s),1))),256))])]),e("div",ae,[le,u(e("input",{"onUpdate:modelValue":i[1]||(i[1]=s=>t.email=s),id:"email",type:"email",class:"form-control"},null,512),[[f,t.email]]),e("div",ie,n(o(m).email),1),e("div",ne,[(a(!0),l(c,null,_((w=o(d))==null?void 0:w.email,s=>(a(),l("div",null,n(s),1))),256))])]),e("div",re,[de,u(e("input",{"onUpdate:modelValue":i[2]||(i[2]=s=>t.password=s),id:"password",type:"password",class:"form-control"},null,512),[[f,t.password]]),e("div",me,n(o(m).password),1),e("div",ue,[(a(!0),l(c,null,_((g=o(d))==null?void 0:g.password,s=>(a(),l("div",null,n(s),1))),256))])]),e("div",ce,[_e,G(N,{multiple:"",modelValue:t.role_id,"onUpdate:modelValue":i[3]||(i[3]=s=>t.role_id=s),options:o(V),reduce:s=>s.id,label:"name",class:"form-control"},null,8,["modelValue","options","reduce"]),e("div",ve,n(o(m).role_id),1),e("div",pe,[(a(!0),l(c,null,_((x=o(d))==null?void 0:x.role_id,s=>(a(),l("div",null,n(s),1))),256))])]),e("div",fe,[e("button",{disabled:o(p),class:"btn btn-primary"},[u(e("div",be,null,512),[[H,o(p)]]),o(p)?(a(),l("span",we,"Processing...")):(a(),l("span",ge,"Save"))],8,he)])],40,$)])])])])}}};export{ke as default};
