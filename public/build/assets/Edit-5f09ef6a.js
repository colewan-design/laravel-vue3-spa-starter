import{A as F,k,v as S,C as B,o as t,b as o,d as s,p as E,y as m,z as P,t as u,g as a,F as q,j as D,B as M}from"./app-742b1e5f.js";import{u as V}from"./permissions-e8daabb8.js";import{d as _,u as j,a as L,r as R,m as T}from"./rules-e1952245.js";const U={class:"row justify-content-center my-5"},z={class:"col-md-6"},A={class:"card border-0 shadow-sm"},C={class:"card-body"},N=["onSubmit"],G={class:"mb-3"},H=s("label",{for:"post-title",class:"form-label"}," Title ",-1),I={class:"text-danger mt-1"},J={class:"text-danger mt-1"},K={class:"mt-4"},O=["disabled"],Q={class:""},W={key:0},X={key:1},ts={__name:"Edit",setup(Y){_("required",R),_("min",T);const p={name:"required|min:3"},{validate:v,errors:h,resetForm:Z}=j({validationSchema:p}),{value:f}=L("name",null,{initialValue:""}),{permission:r,getPermission:b,updatePermission:y,validationErrors:g,isLoading:i}=V(),e=F({name:f}),w=k();function x(){v().then(d=>{d.valid&&y(e)})}return S(()=>{b(w.params.id)}),B(()=>{e.id=r.value.id,e.name=r.value.name}),(d,l)=>{var c;return t(),o("div",U,[s("div",z,[s("div",A,[s("div",C,[s("form",{onSubmit:E(x,["prevent"])},[s("div",G,[H,m(s("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>e.name=n),id:"post-title",type:"text",class:"form-control"},null,512),[[P,e.name]]),s("div",I,u(a(h).name),1),s("div",J,[(t(!0),o(q,null,D((c=a(g))==null?void 0:c.name,n=>(t(),o("div",null,u(n),1))),256))])]),s("div",K,[s("button",{disabled:a(i),class:"btn btn-primary"},[m(s("div",Q,null,512),[[M,a(i)]]),a(i)?(t(),o("span",W,"Processing...")):(t(),o("span",X,"Update"))],8,O)])],40,N)])])])])}}};export{ts as default};
